<div id="inicio">

  <div id= "inicio" *ngIf="estado==='instruccion'">
      <h1>Comprensión</h1>
      <b>Intrucciones generales:</b>
      <p>A continuación se le realizara una serie de preguntas al paciente</p>
      <p>el cual debera responder deacuerdo a la pregunta que se le haga.</p>
      <br/>
      <b>Intrucciones para registrar la respuesta de paciente:</b>
      <br/>
      <br/>
      <li>La respuesta dada por el paciente debe ser registrada en la casilla de respuesta</li>
      <li>Se debe escoger, teniendo en cuenta la guía, entre 0,1 y 2 para la puntuación de la respuesta</li>
      <br/>
      <app-card-button type='button' message="Iniciar subprueba"
        (messageEvent)="estado='seleccion'"></app-card-button>    
    </div>

  <div *ngIf="estado==='seleccion'">
    <h1>Comprension</h1>
    <p>En que estimulo desea iniciar la prueba? </p>
    <p>Pacientes de edad 6-8 años o con sospechas de discapacidad intelectual:</p>
    <app-card-button type='button' message="Estimulo 1" 
    (messageEvent)="testInit(0)"></app-card-button> 
    <p>Pacientes de edad 9-11:</p>
    <app-card-button type='button' message="Estimulo 3" 
    (messageEvent)="testInit(2)"></app-card-button> 
    <p>Pacientes de edad 12-16:</p>
    <app-card-button type='button' message="Estimulo 5" 
    (messageEvent)="testInit(4)"></app-card-button>
  </div>

  <div *ngIf="estado==='aplicacion'"> 
    <h2>{{consignaActual}}</h2>

    <div id="generalC">
      <mat-label for="general"><b>Conceptos generales</b></mat-label>
      <br>
      <mat-form-field>
        <textarea matInput cols="1500" rows="8" readonly>{{generalActual}}</textarea> 
      </mat-form-field>
    </div>
    <br>
      
    <div id="puntos" class="form-group">
      <div id="field">
        <mat-label for="punto1"><b>2 Puntos</b></mat-label>
        <br>
        <mat-form-field>
          <textarea matInput cols="500" rows="6" readonly>{{respuestaCorrectaAct}}</textarea> 
        </mat-form-field>
      </div>
      
      <div id="field">
        <mat-label for="punto1"><b>1 Punto</b></mat-label>
        <br>
        <mat-form-field>
          <textarea matInput cols="500" rows="6" readonly>{{respuestaIntermediaAct}}</textarea>
        </mat-form-field> 
      </div>

      <div id="field">
        <mat-label for="punto1"><b>0 Puntos</b></mat-label>
        <br>
        <mat-form-field>
          <textarea matInput cols="500" rows="6" readonly>{{respuestaErroneaAct}}</textarea>
        </mat-form-field> 
      </div>
    </div>
      
    <div class="form-group">
      <mat-label for="comentarioA">{{comentarioAct}}</mat-label>
    </div>

    <br>
    <mat-label>Respuesta dada:  </mat-label>
    <mat-form-field>
      <input matInput required id="respuestaDada"  [(ngModel)]="respuestaDada" name="respuestaDada">
    </mat-form-field>
    <br><br>
    <div id="bot">
      <app-card-button type='button' message="0 Puntos"
      (messageEvent)="cambiarPuntuacion(0)"></app-card-button>
      <app-card-button type='button' message="1 Punto"
      (messageEvent)="cambiarPuntuacion(1)" ></app-card-button>
      <app-card-button type='button' message="2 Puntos"
      (messageEvent)="cambiarPuntuacion(2)" ></app-card-button>
    </div>
  </div>

  <app-results  *ngIf="estado==='resultados'"
    nameTest="Comprension"
    [result]="getResultado()"
    route='/wais'
    (review)="aRevisar()">
  </app-results>
  
  <div *ngIf="estado==='revision'" >
    <h2>El puntaje por cada Item fue: </h2>
    <div id="resultados" >
      <label for="item">Item No.</label>
      <label for="puntuacion">Puntuación</label>
      <label for="respuestaDada">Respuesta dada:</label>
    </div>
      
    <div id="resultados"  *ngFor="let resultado of resultados; let i=index" >
      <label for="i">{{i+1}}:</label>
      <mat-form-field>
        <input matInput type="number" id="{{i}}" value={{resultado}}/>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="text" value={{respuestas[i]}}/>
      </mat-form-field>
    </div>
  </div>


  <div id='buttons' *ngIf="estado==='revision'">
      <app-card-button type='button' message="Regresar" 
      (messageEvent)="regresarAct()"></app-card-button> 
      <app-card-button type='button' message="Actualizar Datos" 
      (messageEvent)="actualizarResultados()"></app-card-button> 
  </div>
  
</div>
