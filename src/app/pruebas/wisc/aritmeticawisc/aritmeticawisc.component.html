<div id="test" >
   
  <div id= "inicio" *ngIf="estado==='instruccion'">
    <h1>Aritmetica</h1>
    <b>Intrucciones generales:</b>
    <p>A continuación se mostrará una serie de imágenes (reactivo 1/retorno) o preguntas (reactivo 6)</p>
    <p>según sea el caso, las cuales, en el caso de las imágenes deben ser mostradas al paciente para que</p>
    <p>las visualice, y en el caso de las preguntas deben ser mencionadas al paciente</p>
    <br/>
    <b>Intrucciones para registrar la respuesta de paciente:</b>
    <br/>
    <br/>
    <li>La respuesta dada por el paciente debe ser registrada en la casilla de respuesta</li>
    <p>El sistema calificara automaticamente la respuesta</p>
    <br/>
    <app-card-button type='button' message="Iniciar subprueba"
      (messageEvent)="estado='seleccion'"></app-card-button>  

  </div>


  <div *ngIf="estado==='seleccion'">
    <h1>Aritmetica</h1>
    <p>En que estimulo desea iniciar la prueba? </p>
    <p>Pacientes de edad 6-7 años o con sospechas de discapacidad intelectual:</p>
    <app-card-button type='button' message="Reactivo 3" 
    (messageEvent)="imagenInit(2)"></app-card-button> 
    <br/><br/>
    <p>Pacientes de edad 8-9:</p>
    <app-card-button type='button' message="Reactivo 9" 
    (messageEvent)="imagenInit(8)"></app-card-button> 
    <br/><br/>
    <p>Pacientes de edad 10-16:</p>
    <app-card-button type='button' message="Reactivo 12" 
    (messageEvent)="imagenInit(11)"></app-card-button> 
  </div>

  <div *ngIf="estado==='aplicacionImg' || estado==='aplicacion'">
    <h1>{{consignaActual}}</h1>
  </div>

  <div *ngIf="estado==='aplicacionImg'">
    <img [src]="estimuloActual" />
    <br>
    <br>
    <br>
  </div>

  <div id="panel" *ngIf="estado==='aplicacionImg' || estado==='aplicacion'">
    <mat-label>Respuesta dada:  </mat-label>
    <mat-form-field>
      <input matInput type="text" id="respuestaDada"  [(ngModel)]="respuestaDada" name="respuestaDada">
    </mat-form-field>
    <br/>
    <br/>
    <app-card-button type='button' message="Siguiente" 
    (messageEvent)="verificarResultado()"></app-card-button> 
  </div>

  <app-results  *ngIf="estado==='terminado'"
  nameTest="aritmetica"
  [result]="getResultado()"
  (review)="aRevisar()"></app-results>
  
  <h2 *ngIf="estado==='revision'">El puntaje por cada Item fue: </h2>

  <div  *ngIf="estado==='revision'" >
      
      <div id="resultados" >
        <label for="item">Item No.</label>
        <label for="puntuacion">Puntuación</label>
        <label for="respuestaDada">Respuesta dada:</label>
        <label for="respuesta">Respuesta correcta:</label>
      </div>
      
      <div id="resultados"  *ngFor="let resultado of resultados  | slice:1; let i=index" >
            <label for="i">{{i}}:</label>
            <mat-form-field>
              <input matInput type="number" id="{{i}}" value={{resultado}}/>
            </mat-form-field>
            <mat-form-field>
              <input matInput type="number" value={{respuestasDadas[i]}}/>
            </mat-form-field>
            <mat-form-field>
              <input matInput readonly type="number" value={{respuestas[i]}}/>
            </mat-form-field>
      </div>
   
  </div>

  <div id='buttons' *ngIf="estado==='revision'">
    <app-card-button type='button' message="Regresar" 
    (messageEvent)="regresarAct()"></app-card-button> 
    <app-card-button type='button' message="Actualizar Datos" 
    (messageEvent)="actualizarResultados()"></app-card-button> 
  </div>
    
</div>
